<!DOCTYPE html>
<html lang="en">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>Custom icons in Shopware 6 Administration - Rune Laenen</title>

<meta name="keywords" content="shopware, development, administration" />
<meta name="description" content="Shopware is very extendable, but not everything is as easy to do or is as well documented as we would sometimes like. To extend this online &lsquo;community-documentation&rsquo;, I like to write down some tips, tricks and code snippets and share them with the world. Today, I tried to add a custom icon to the Shopware 6 Administration, and found out that it was not very easy to do. Until you know how, of course!">
<meta name="author" content="Rune Laenen">
<link rel="canonical" href="https://laenen.me/posts/custom-icons-in-sw6-admin/" />
<link href="https://laenen.me/assets/css/stylesheet.min.7c7ac618fc31027755e6b36e1b38c14103a3712f8c14d8db486efcc521ef1474.css" integrity="sha256-fHrGGPwxAndV5rNuGzjBQQOjcS&#43;MFNjbSG78xSHvFHQ=" rel="preload stylesheet"
    as="style">
<link rel="apple-touch-icon" href="https://laenen.me/apple-touch-icon.png">
<link rel="icon" href="https://laenen.me/favicon.ico">
<meta name="generator" content="Hugo 0.83.1" />

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-82044964-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta property="og:title" content="Custom icons in Shopware 6 Administration" />
<meta property="og:description" content="Shopware is very extendable, but not everything is as easy to do or is as well documented as we would sometimes like. To extend this online &lsquo;community-documentation&rsquo;, I like to write down some tips, tricks and code snippets and share them with the world. Today, I tried to add a custom icon to the Shopware 6 Administration, and found out that it was not very easy to do. Until you know how, of course!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://laenen.me/posts/custom-icons-in-sw6-admin/" />
<meta property="og:image" content="https://laenen.me/blog-shopware-6-custom-icons-header.jpg" /><meta property="article:published_time" content="2021-06-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-06-24T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://laenen.me/blog-shopware-6-custom-icons-header.jpg" />
<meta name="twitter:title" content="Custom icons in Shopware 6 Administration"/>
<meta name="twitter:description" content="Shopware is very extendable, but not everything is as easy to do or is as well documented as we would sometimes like. To extend this online &lsquo;community-documentation&rsquo;, I like to write down some tips, tricks and code snippets and share them with the world. Today, I tried to add a custom icon to the Shopware 6 Administration, and found out that it was not very easy to do. Until you know how, of course!"/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Custom icons in Shopware 6 Administration",
  "name": "Custom icons in Shopware 6 Administration",
  "description": "Shopware is very extendable, but not everything is as easy to do or is as well documented as we would sometimes like. To extend this online \u0026amp;lsquo;community-documentation\u0026amp;rsquo;, I …",
  "keywords": [
    "shopware", "development", "administration"
  ],
  "articleBody": "Shopware is very extendable, but not everything is as easy to do or is as well documented as we would sometimes like. To extend this online ‘community-documentation’, I like to write down some tips, tricks and code snippets and share them with the world. Today, I tried to add a custom icon to the Shopware 6 Administration, and found out that it was not very easy to do. Until you know how, of course!\nIn short… I assume you already have your plugin with some administration code. This could be a custom module, or a change to an existing module. We will be extending the webpack config, we will also need to actually load our svg’s to be usable in the sw-icon component.\nI assume you will put your svg icons in src/Resources/app/administration/src/app/assets/icons/svg, which mimics the path the icons are in in the core. The sw-icon component from the Shopware core dictates a naming convention for your file names. They need to start with icons-vendor-icon-name.svg, for example icons-rune-icon.svg. This will make it possible to load our icon with  in our code.\nTutorial 1. Extending webpack.config.js Luckily, Shopware provides a way to extend the webpack config from a plugin. This happens with a config file, which the build scripts from Shopware will automatically pick up, after which it applies its config.\nTo get started, create a file `src/Resources/app/administration/build/webpack.config.js.\nFirst of all, lets start with this small boilerplate code. This imports the needed dependencies, and exports a function which will extend the default config.\nconst { resolve, join } = require('path'); module.exports = ({ config }) = { // Add some magic here }; Our end goal, and the reason why we need to extend the webpack config, is to include our svg icons inline. To do this, there are 2 things we need to do. First we need to remove (or ‘exclude’) our svg’s path from a certain rule (the url-loader rule which will make a base64 string, which we don’t want), and then add our path to another rule (the svg-inline-loader rule which… well loads svgs inline :-P).\nFor the first path, we will need to find the url-loader rule.\n// Find the url loader rule const urlLoaderRule = config.module.rules.find((rule) = { return rule.loader === 'url-loader'; }); When we found the rule, we will add our directory to the excludes parameter of the rule.\n// Add our svg icons urlLoaderRule.exclude.push( resolve(join(__dirname, '../src/app/assets/icons/svg')) ); Finally, we add a new svg-inline-loader rule to the configuration.\nreturn { module: { rules: [ { test: /\\.svg$/, include: [ resolve(join(__dirname, '../src/app/assets/icons/svg')) ], loader: 'svg-inline-loader', options: { removeSVGTagAttrs: false } }, ] } }; So quick recap: We change the existing config (by adding something to an existing rule), and add some more config by adding the new rule. Here’s the complete file:\nconst { resolve, join } = require('path'); module.exports = ({ config }) = { // Find the url loader rule  const urlLoaderRule = config.module.rules.find((rule) = { return rule.loader === 'url-loader'; }); // Add our svg icons  urlLoaderRule.exclude.push( resolve(join(__dirname, '../src/app/assets/icons/svg')) ); return { module: { rules: [ { test: /\\.svg$/, include: [ resolve(join(__dirname, '../src/app/assets/icons/svg')) ], loader: 'svg-inline-loader', options: { removeSVGTagAttrs: false } }, ] } }; }; 2. Load the svg’s as a Vue component The way the Shopware icons work, is by creating every icon as a Vue component. We won’t be making a component manually. You could, but that’s a lot of boiler plate copy-paste code, so we reuse the generator that Shopware core uses.\nCreate the following file src/Resources/app/administration/src/app/assets/icons/icons.js in your plugin:\nexport default (() = { const context = require.context('./svg', true, /svg$/); return context.keys().reduce((accumulator, item) = { const componentName = item.split('.')[1].split('/')[1]; const component = { name: componentName, functional: true, render(createElement, elementContext) { const data = elementContext.data; return createElement('span', { class: [data.staticClass, data.class], style: data.style, attrs: data.attrs, on: data.on, domProps: { innerHTML: context(item), }, }); }, }; accumulator.push(component); return accumulator; }, []); })(); What this file does is the following:\n Create a Node.js context object for the svg folder. This is the folder that holds your svg files. Loop over the files, and for every file:  ‘Render’ the filename to get the component name. In short, it takes the filename and cuts off the .svg file extensions. This makes the ‘raw’ filename the component name. Then it describes the component, and how it should be rendered: a span, with cetain classes, stles, attributes, and most importantly: the icon itself, which is loaded with the context(item) function. Finally, we push the component to our list and return it.    It’s not just done yet. This file will not be automagically called, so we still have to import \u0026 run the file. To do this, open your main.js file and add the following:\nimport iconComponents from './app/assets/icons/icons'; iconComponents.map((component) = { return Shopware.Component.register(component.name, component); }); This imports our icons.js file, runs it to generate the components, and registers every component to the Shopware component registry.\n3. That’s it! Now that I write it here, it’s actually quite simple. 3 files and you can get started with your own custom icons. You can now use the sw-icon component to include your shiny custom icons.\nTroubleshooting Are your icons still not loading? Maybe you have one of the issues I encountered:\n1. Wrong file name Make sure your icon components (= the svg file name) start with icons-. This is a prefix that is used by the sw-icon component. Filename icons-rune-test.svg will become \n2. Wrong webpack.config.js Are you seeing a base64 string? This means something is wrong with the webpack config, and your custom config is probably not loading correctly. Did you dump the plugin configuration? No? Run bin/console bundle:dump, restart your watcher/build and it should work. Are you sure you have restarted your watcher? No? Restart bin/watch-administration.sh and it should work.\nEnjoy! I hope nobody needs to spend as much time as I did to figure a simple thing like this out. If you were helped by this guide, consider buying me a coffee. Did you already figure this out yourself, and are you looking for a job? Contact me!\n",
  "wordCount" : "1018",
  "inLanguage": "en",
  "image":"https://laenen.me/blog-shopware-6-custom-icons-header.jpg",
  "datePublished": "2021-06-24T00:00:00Z",
  "dateModified": "2021-06-24T00:00:00Z",
  "author": {
    "@type": "Person",
    "name": "Rune Laenen"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://laenen.me/posts/custom-icons-in-sw6-admin/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Rune Laenen",
    "logo": {
      "@type": "ImageObject",
      "url": "https://laenen.me/favicon.ico"
    }
  }
}
</script>



</head>

<body class="single" id="top">
<script>
    
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else {
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.body.classList.add('dark');
        }
    }
</script>
<noscript>
    <style type="text/css">
        .theme-toggle,
        .top-link {
            display: none;
        }
    </style>
</noscript>
<header class="header">
    <nav class="nav">
        <p class="logo">
            <a href="https://laenen.me/">Rune Laenen</a>
            <span class="theme-toggle">
                <a id="theme-toggle">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </a>
            </span>
        </p>
        <ul class="menu" id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://laenen.me/">
                    <span>
                        Home
                    </span>
                </a>
            </li>
            <li>
                <a href="https://laenen.me/plugins/">
                    <span>
                        Plugins
                    </span>
                </a>
            </li>
            <li>
                <a href="https://laenen.me/tags/">
                    <span>
                        Tags
                    </span>
                </a>
            </li>
        </ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">
      Custom icons in Shopware 6 Administration
    </h1>
    <div class="post-meta"><time>June 24, 2021</time>
      &nbsp;·&nbsp;5 min&nbsp;·&nbsp;Rune Laenen
    </div>
  </header>
  <figure class="entry-cover">
    <img src="https://laenen.me/blog-shopware-6-custom-icons-header.jpg" alt="Custom icons in Shopware 6 Administration">
    <p>Custom icons in Shopware 6 Administration</p>
  </figure>
  <div class="post-content"><p>Shopware is very extendable, but not everything is as easy to do or is as well documented as we would sometimes like. To extend this online &lsquo;community-documentation&rsquo;, I like to write down some tips, tricks and code snippets and share them with the world. Today, I tried to add a custom icon to the Shopware 6 Administration, and found out that it was not very easy to do. Until you know how, of course!</p>
<h2 id="in-short">In short&hellip;</h2>
<p>I assume you already have your plugin with some administration code. This could be a custom module, or a change to an existing module.
We will be extending the webpack config, we will also need to actually load our svg&rsquo;s to be usable in the sw-icon component.</p>
<p>I assume you will put your svg icons in <code>src/Resources/app/administration/src/app/assets/icons/svg</code>, which mimics the path the icons are in in the core.
The <code>sw-icon</code> component from the Shopware core dictates a naming convention for your file names. They need to start with <code>icons-vendor-icon-name.svg</code>, for example <code>icons-rune-icon.svg</code>. This will make it possible to load our icon with <code>&lt;sw-icon name=&quot;rune-icon&quot;&gt;&lt;/sw-icon&gt;</code> in our code.</p>
<h1 id="tutorial">Tutorial</h1>
<h2 id="1-extending-webpackconfigjs">1. Extending webpack.config.js</h2>
<p>Luckily, Shopware provides a way to extend the webpack config from a plugin. This happens with a config file, which the build scripts from Shopware will automatically pick up, after which it applies its config.</p>
<p>To get started, create a file `src/Resources/app/administration/build/webpack.config.js.</p>
<p>First of all, lets start with this small boilerplate code. This imports the needed dependencies, and exports a function which will extend the default config.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-webpack.config.js" data-lang="webpack.config.js"><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">join</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;path&#39;</span>);

<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> ({ <span style="color:#a6e22e">config</span> }) =&gt; {
    <span style="color:#75715e">// Add some magic here
</span><span style="color:#75715e"></span>};
</code></pre></div><p>Our end goal, and the reason why we need to extend the webpack config, is to include our svg icons inline.
To do this, there are 2 things we need to do. First we need to remove (or &lsquo;exclude&rsquo;) our svg&rsquo;s path from a certain rule (the url-loader rule which will make a base64 string, which we don&rsquo;t want), and then add our path to another rule (the svg-inline-loader rule which&hellip; well loads svgs inline :-P).</p>
<p>For the first path, we will need to find the url-loader rule.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-webpack.config.js" data-lang="webpack.config.js"><span style="color:#75715e">// Find the url loader rule
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlLoaderRule</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">rules</span>.<span style="color:#a6e22e">find</span>((<span style="color:#a6e22e">rule</span>) =&gt; {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">rule</span>.<span style="color:#a6e22e">loader</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;url-loader&#39;</span>;
});
</code></pre></div><p>When we found the rule, we will add our directory to the <code>excludes</code> parameter of the rule.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-webpack.config.js" data-lang="webpack.config.js"><span style="color:#75715e">// Add our svg icons
</span><span style="color:#75715e"></span><span style="color:#a6e22e">urlLoaderRule</span>.<span style="color:#a6e22e">exclude</span>.<span style="color:#a6e22e">push</span>(
    <span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">join</span>(<span style="color:#ae81ff">__</span><span style="color:#a6e22e">dirname</span>, <span style="color:#e6db74">&#39;../src/app/assets/icons/svg&#39;</span>))
);
</code></pre></div><p>Finally, we add a new <code>svg-inline-loader</code> rule to the configuration.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-webpack.config.js" data-lang="webpack.config.js"><span style="color:#66d9ef">return</span> {
    <span style="color:#a6e22e">module</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> [
            {
                <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.svg$/</span>,
                <span style="color:#a6e22e">include</span><span style="color:#f92672">:</span> [
                    <span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">join</span>(<span style="color:#ae81ff">__</span><span style="color:#a6e22e">dirname</span>, <span style="color:#e6db74">&#39;../src/app/assets/icons/svg&#39;</span>))
                ],
                <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;svg-inline-loader&#39;</span>,
                <span style="color:#a6e22e">options</span><span style="color:#f92672">:</span> {
                    <span style="color:#a6e22e">removeSVGTagAttrs</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
                }
            },
        ]
    }
};
</code></pre></div><p>So quick recap: We change the existing config (by adding something to an existing rule), and add some more config by adding the new rule.
Here&rsquo;s the complete file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-webpack.config.js" data-lang="webpack.config.js"><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">join</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;path&#39;</span>);

<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> ({ <span style="color:#a6e22e">config</span> }) =&gt; {
    <span style="color:#75715e">// Find the url loader rule
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlLoaderRule</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">rules</span>.<span style="color:#a6e22e">find</span>((<span style="color:#a6e22e">rule</span>) =&gt; {
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">rule</span>.<span style="color:#a6e22e">loader</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;url-loader&#39;</span>;
    });

    <span style="color:#75715e">// Add our svg icons
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">urlLoaderRule</span>.<span style="color:#a6e22e">exclude</span>.<span style="color:#a6e22e">push</span>(
        <span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">join</span>(<span style="color:#ae81ff">__</span><span style="color:#a6e22e">dirname</span>, <span style="color:#e6db74">&#39;../src/app/assets/icons/svg&#39;</span>))
    );

    <span style="color:#66d9ef">return</span> {
        <span style="color:#a6e22e">module</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> [
                {
                    <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.svg$/</span>,
                    <span style="color:#a6e22e">include</span><span style="color:#f92672">:</span> [
                        <span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">join</span>(<span style="color:#ae81ff">__</span><span style="color:#a6e22e">dirname</span>, <span style="color:#e6db74">&#39;../src/app/assets/icons/svg&#39;</span>))
                    ],
                    <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;svg-inline-loader&#39;</span>,
                    <span style="color:#a6e22e">options</span><span style="color:#f92672">:</span> {
                        <span style="color:#a6e22e">removeSVGTagAttrs</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
                    }
                },
            ]
        }
    };
};
</code></pre></div><h2 id="2-load-the-svgs-as-a-vue-component">2. Load the svg&rsquo;s as a Vue component</h2>
<p>The way the Shopware icons work, is by creating every icon as a Vue component. We won&rsquo;t be making a component manually. You could, but that&rsquo;s a lot of boiler plate copy-paste code, so we reuse <a href="https://github.com/shopware/platform/blob/ff51a386e1a21d3477a6b967d92271df5fae6de5/src/Administration/Resources/app/administration/src/app/assets/icons/icons.js">the generator that Shopware core uses</a>.</p>
<p>Create the following file <code>src/Resources/app/administration/src/app/assets/icons/icons.js</code> in your plugin:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-plugins.js" data-lang="plugins.js"><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> (() =&gt; {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">context</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>.<span style="color:#a6e22e">context</span>(<span style="color:#e6db74">&#39;./svg&#39;</span>, <span style="color:#66d9ef">true</span>, <span style="color:#e6db74">/svg$/</span>);

    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">keys</span>().<span style="color:#a6e22e">reduce</span>((<span style="color:#a6e22e">accumulator</span>, <span style="color:#a6e22e">item</span>) =&gt; {
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">componentName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39;.&#39;</span>)[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39;/&#39;</span>)[<span style="color:#ae81ff">1</span>];

        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">component</span> <span style="color:#f92672">=</span> {
            <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">componentName</span>,
            <span style="color:#a6e22e">functional</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
            <span style="color:#a6e22e">render</span>(<span style="color:#a6e22e">createElement</span>, <span style="color:#a6e22e">elementContext</span>) {
                <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">elementContext</span>.<span style="color:#a6e22e">data</span>;

                <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;span&#39;</span>, {
                    <span style="color:#66d9ef">class</span><span style="color:#f92672">:</span> [<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">staticClass</span>, <span style="color:#a6e22e">data</span>.<span style="color:#66d9ef">class</span>],
                    <span style="color:#a6e22e">style</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">style</span>,
                    <span style="color:#a6e22e">attrs</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">attrs</span>,
                    <span style="color:#a6e22e">on</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">on</span>,
                    <span style="color:#a6e22e">domProps</span><span style="color:#f92672">:</span> {
                        <span style="color:#a6e22e">innerHTML</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">context</span>(<span style="color:#a6e22e">item</span>),
                    },
                });
            },
        };

        <span style="color:#a6e22e">accumulator</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">component</span>);
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">accumulator</span>;
    }, []);
})();
</code></pre></div><p>What this file does is the following:</p>
<ul>
<li>Create a Node.js <code>context</code> object for the svg folder. This is the folder that holds your svg files.</li>
<li>Loop over the files, and for every file:
<ul>
<li>&lsquo;Render&rsquo; the filename to get the component name. In short, it takes the filename and cuts off the <code>.svg</code> file extensions. This makes the &lsquo;raw&rsquo; filename the component name.</li>
<li>Then it describes the component, and how it should be rendered: a span, with cetain classes, stles, attributes, and most importantly: the icon itself, which is loaded with the <code>context(item)</code> function.</li>
<li>Finally, we push the component to our list and return it.</li>
</ul>
</li>
</ul>
<p>It&rsquo;s not just done yet. This file will not be automagically called, so we still have to import &amp; run the file.
To do this, open your <code>main.js</code> file and add the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-main.js" data-lang="main.js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">iconComponents</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./app/assets/icons/icons&#39;</span>;

<span style="color:#a6e22e">iconComponents</span>.<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">component</span>) =&gt; {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Shopware</span>.<span style="color:#a6e22e">Component</span>.<span style="color:#a6e22e">register</span>(<span style="color:#a6e22e">component</span>.<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">component</span>);
});
</code></pre></div><p>This imports our <code>icons.js</code> file, runs it to generate the components, and registers every component to the Shopware component registry.</p>
<h2 id="3-thats-it">3. That&rsquo;s it!</h2>
<p>Now that I write it here, it&rsquo;s actually quite simple. 3 files and you can get started with your own custom icons.
You can now use the <a href="https://component-library.shopware.com/components/sw-icon"><code>sw-icon</code></a> component to include your shiny custom icons.</p>
<h1 id="troubleshooting">Troubleshooting</h1>
<p>Are your icons still not loading? Maybe you have one of the issues I encountered:</p>
<h2 id="1-wrong-file-name">1. Wrong file name</h2>
<p>Make sure your icon components (= the svg file name) start with <code>icons-</code>. This is a prefix that is used by the <code>sw-icon</code> component.
Filename <code>icons-rune-test.svg</code> will become <code>&lt;sw-icon name=&quot;rune-test&quot;&gt;&lt;/sw-icon&gt;</code></p>
<h2 id="2-wrong-webpackconfigjs">2. Wrong webpack.config.js</h2>
<p>Are you seeing a base64 string? This means something is wrong with the webpack config, and your custom config is probably not loading correctly.
Did you dump the plugin configuration? No? Run <code>bin/console bundle:dump</code>, restart your watcher/build and it should work.
Are you sure you have restarted your watcher? No? Restart <code>bin/watch-administration.sh</code> and it should work.</p>
<h1 id="enjoy">Enjoy!</h1>
<p>I hope nobody needs to spend as much time as I did to figure a simple thing like this out. If you were helped by this guide, consider <a href="https://www.buymeacoffee.com/runelaenen">buying me a coffee</a>.
Did you already figure this out yourself, and are you looking for a job? Contact me!</p>
</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://laenen.me/tags/shopware">shopware</a></li>
      <li><a href="https://laenen.me/tags/development">development</a></li>
      <li><a href="https://laenen.me/tags/administration">administration</a></li>
    </ul>
<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share Custom icons in Shopware 6 Administration on twitter"
        href="https://twitter.com/intent/tweet/?text=Custom%20icons%20in%20Shopware%206%20Administration&amp;url=https%3a%2f%2flaenen.me%2fposts%2fcustom-icons-in-sw6-admin%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Custom icons in Shopware 6 Administration on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2flaenen.me%2fposts%2fcustom-icons-in-sw6-admin%2f&amp;title=Custom%20icons%20in%20Shopware%206%20Administration&amp;summary=Custom%20icons%20in%20Shopware%206%20Administration&amp;source=https%3a%2f%2flaenen.me%2fposts%2fcustom-icons-in-sw6-admin%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Custom icons in Shopware 6 Administration on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2flaenen.me%2fposts%2fcustom-icons-in-sw6-admin%2f&title=Custom%20icons%20in%20Shopware%206%20Administration">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Custom icons in Shopware 6 Administration on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2flaenen.me%2fposts%2fcustom-icons-in-sw6-admin%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Custom icons in Shopware 6 Administration on whatsapp"
        href="https://api.whatsapp.com/send?text=Custom%20icons%20in%20Shopware%206%20Administration%20-%20https%3a%2f%2flaenen.me%2fposts%2fcustom-icons-in-sw6-admin%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Custom icons in Shopware 6 Administration on telegram"
        href="https://telegram.me/share/url?text=Custom%20icons%20in%20Shopware%206%20Administration&amp;url=https%3a%2f%2flaenen.me%2fposts%2fcustom-icons-in-sw6-admin%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>
  </footer><div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "runelaenen" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</article>
    </main><footer class="footer">
    <span>&copy; 2021 <a href="https://laenen.me/">Rune Laenen</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo️️</a>️</span>
    <span>&middot;</span>
    <span>Theme️ <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top">
    <button class="top-link" id="top-link" type="button">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6">
            <path d="M12 6H0l6-6z" /></svg>
    </button>
</a>
<script src="https://laenen.me/assets/js/highlight.min.727bc06f35142445e1ca4dbf0c258372d440dfd30ea831e99dbe7bf9e54d11da.js" integrity="sha256-cnvAbzUUJEXhyk2/DCWDctRA39MOqDHpnb57&#43;eVNEdo="></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();

            document.querySelector(this.getAttribute("href")).scrollIntoView({
                behavior: "smooth"
            });
        });
    });
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }
    
    function targetBlank() {
        
        var internal = location.host.replace("www.", "");
            internal = new RegExp(internal, "i");
            
        var a = document.getElementsByTagName('a'); 
        for (var i = 0; i < a.length; i++) {
            var href = a[i].host; 
            if( !internal.test(href) ) { 
            a[i].setAttribute('target', '_blank'); 
            }
        }
    };

  targetBlank();
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })
</script>
</body>

</html>